import{o as Ae,a as Ie,u as et,b as tt,r as p,c as P,d as h,e as c,f,g as a,h as l,i as D,w as n,j as g,t as d,F as ue,k as de,M as r,D as at,l as U,n as ve,m as X}from"./index-dd4b05ce.js";import{s as R,q as ot,b as Ue,u as st}from"./index-ad289ca7.js";import{_ as lt}from"./_plugin-vue_export-helper-c27b6911.js";function nt(m){const k=u=>{var E,A,B,V,I,$;if((u.ctrlKey||u.metaKey)&&u.key==="k"&&(u.preventDefault(),(E=m.onSearch)==null||E.call(m)),(u.ctrlKey||u.metaKey)&&u.key==="n"&&(u.preventDefault(),(A=m.onNew)==null||A.call(m)),(u.ctrlKey||u.metaKey)&&u.key==="s"&&(u.preventDefault(),(B=m.onSave)==null||B.call(m)),(u.ctrlKey||u.metaKey)&&u.key==="l"&&(u.preventDefault(),(V=m.onLock)==null||V.call(m)),u.key==="Escape"&&((I=m.onEscape)==null||I.call(m)),/^[1-9]$/.test(u.key)&&(u.ctrlKey||u.metaKey)){u.preventDefault();const z=parseInt(u.key)-1;($=m.onQuickCopy)==null||$.call(m,z)}};Ae(()=>{document.addEventListener("keydown",k)}),Ie(()=>{document.removeEventListener("keydown",k)})}const it={class:"home"},rt={class:"header"},ct={class:"header-container app-container"},ut={class:"header-left"},dt={class:"brand-logo"},vt={class:"logo-icon"},pt={class:"header-right"},mt={class:"user-name"},ft={class:"header-center"},gt={key:0,class:"batch-toolbar"},_t={class:"batch-toolbar-left"},yt={class:"selected-count"},ht={class:"batch-toolbar-right"},kt={class:"main-content app-container"},bt={key:0,class:"favorites-bar"},wt={class:"favorites-header"},xt={class:"favorites-list"},Ct=["onClick","title"],Dt={class:"favorite-info"},zt={class:"favorite-name"},St={class:"favorite-token"},Vt={key:1,class:"empty-state"},Lt={class:"empty-icon"},Ut={class:"empty-title"},At={class:"empty-desc"},It={key:3,class:"table-container desktop-view app-card"},Ft={class:"secret-table"},Tt={key:0,class:"checkbox-col"},Et={key:0,class:"checkbox-cell"},Rt={class:"icon-cell"},$t={class:"name-cell"},Mt={class:"name-wrapper"},Ot={class:"secret-name"},jt={class:"issuer-cell"},Bt={class:"issuer"},Kt={class:"note-cell"},Nt=["title"],Pt={class:"secret-key-cell"},qt={class:"secret-key-wrapper"},Gt={class:"secret-key-text"},Jt={class:"secret-key-actions"},Qt={class:"code-cell"},Wt=["onClick","title"],Ht={class:"timer-cell"},Xt={class:"timer-wrapper"},Yt={class:"timer-text"},Zt={class:"action-cell"},ea={key:1,style:{color:"#999"}},ta={key:4,class:"mobile-view"},aa={class:"mobile-card-header"},oa={class:"mobile-card-title"},sa={class:"mobile-name"},la={class:"mobile-issuer"},na={key:0,class:"mobile-card-note"},ia={class:"mobile-note-text"},ra={class:"mobile-card-secret"},ca={class:"mobile-secret-value"},ua={class:"mobile-secret-text"},da={class:"mobile-secret-actions"},va={class:"mobile-card-code"},pa={class:"mobile-code-display"},ma={class:"mobile-card-timer"},fa={class:"mobile-timer-text"},ga={key:5,class:"footer-stats"},_a={class:"stat-item"},ya={key:0,class:"stat-item"},ha={class:"stat-item"},ka={style:{"text-align":"center"}},ba={key:0,style:{"margin-bottom":"16px"}},wa=["src"],xa={__name:"Home",setup(m){const k=et(),u=tt(),E=p(null),A=p(window.innerWidth<=768),B=()=>{A.value=window.innerWidth<=768},V=p(!1),I=p([]),$=p({}),z=p(30),F=p(""),v=p([]),b=p(!1),T=p([]),Y=p(null),pe=P(()=>I.value.filter(t=>t.is_favorite).slice(0,5)),M=p(!1),Z=p("æ·»åŠ å¯†é’¥"),_=p({name:"",secret_key:"",issuer:"",note:""}),q=p(!1),ee=p("merge"),G=p(null),Fe=[{content:"å¯¼å‡ºæ•°æ®",value:"export"},{content:"å¯¼å…¥æ•°æ®",value:"import"},{content:"API å¯†é’¥",value:"api-keys"},{content:"ä¸»é¢˜å®šåˆ¶",value:"theme"},{content:"è®¾ç½®",value:"settings"}],Te=P(()=>{var e;const t=[{content:"ä¸ªäººèµ„æ–™",value:"profile",prefixIcon:"user"},{content:"ä¿®æ”¹å¯†ç ",value:"change-password",prefixIcon:"lock-on"}];return((e=E.value)==null?void 0:e.role)==="admin"&&(t.push({content:"ç®¡ç†åå°",value:"admin",prefixIcon:"dashboard"}),t.push({content:"API å¯†é’¥",value:"api-keys",prefixIcon:"key"})),t.push({content:"ä¸»é¢˜å®šåˆ¶",value:"theme",prefixIcon:"palette"}),t.push({content:"é€€å‡ºç™»å½•",value:"logout",prefixIcon:"poweroff",theme:"danger"}),t}),me=t=>[{content:"ç¼–è¾‘",value:"edit"},{content:t.is_favorite?"å–æ¶ˆæ”¶è—":"æ”¶è—",value:"favorite"},{content:"åˆ é™¤",value:"delete",theme:"danger"}],fe=P({get:()=>v.value.length===x.value.length&&x.value.length>0,set:t=>{t?v.value=x.value.map(e=>e.id):v.value=[]}}),J=P(()=>z.value/30*100),x=P(()=>{let t=I.value;if(F.value){const e=F.value.toLowerCase();t=t.filter(o=>o.name.toLowerCase().includes(e)||o.issuer&&o.issuer.toLowerCase().includes(e)||o.note&&o.note.toLowerCase().includes(e))}return t.sort((e,o)=>e.is_favorite&&!o.is_favorite?-1:!e.is_favorite&&o.is_favorite?1:0)}),ge={github:"ğŸ”µ",google:"ğŸ”´",microsoft:"ğŸŸ¢",apple:"âš«",facebook:"ğŸ”µ",twitter:"ğŸ”µ",amazon:"ğŸŸ ",aws:"ğŸŸ ",azure:"ğŸ”µ",steam:"âš«",discord:"ğŸŸ£",telegram:"ğŸ”µ",dropbox:"ğŸ”µ",gitlab:"ğŸŸ ",default:"ğŸ”"},_e={github:"#181717",google:"#4285F4",microsoft:"#00A4EF",apple:"#000000",facebook:"#1877F2",twitter:"#1DA1F2",amazon:"#FF9900",aws:"#FF9900",azure:"#0078D4",steam:"#171A21",discord:"#5865F2",telegram:"#26A5E4",dropbox:"#0061FF",gitlab:"#FC6D26",default:"#1890ff"},te=t=>{const e=(t.name+" "+(t.issuer||"")).toLowerCase();for(const[o,i]of Object.entries(ge))if(e.includes(o))return i;return ge.default},ae=t=>{const e=(t.name+" "+(t.issuer||"")).toLowerCase();for(const[o,i]of Object.entries(_e))if(e.includes(o))return i;return _e.default},O=async()=>{V.value=!0;try{const t=await R.getAll();if(!Array.isArray(t.data.data))throw new Error("æ•°æ®æ ¼å¼é”™è¯¯");const e=t.data.data.filter(o=>!o.id||!o.name||!o.secret_key?(console.warn("å‘ç°æ— æ•ˆå¯†é’¥:",o),!1):!0);e.length<t.data.data.length&&r.warning(`å‘ç° ${t.data.data.length-e.length} ä¸ªæ— æ•ˆå¯†é’¥å·²è¢«è¿‡æ»¤`),I.value=e}catch(t){r.error("åŠ è½½å¤±è´¥ï¼š"+t.message)}finally{V.value=!1}},K=async()=>{var t;try{const e=await R.getAllTokens(),o={};e.data.data.forEach(i=>{o[i.id]=i.token}),$.value=o,z.value=((t=e.data.data[0])==null?void 0:t.remaining)||30}catch{}},oe=t=>$.value[t]||"------",se=t=>t==="------"?t:t.slice(0,3)+" "+t.slice(3),Q=async t=>{const e=$.value[t];if(e&&e!=="------")try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e),r.success("éªŒè¯ç å·²å¤åˆ¶ï¼ˆ30ç§’åè‡ªåŠ¨æ¸…é™¤ï¼‰");else{const o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.opacity="0",document.body.appendChild(o),o.select();try{if(document.execCommand("copy"))r.success("éªŒè¯ç å·²å¤åˆ¶ï¼ˆ30ç§’åè‡ªåŠ¨æ¸…é™¤ï¼‰");else throw new Error("å¤åˆ¶å‘½ä»¤æ‰§è¡Œå¤±è´¥")}finally{document.body.removeChild(o)}}Y.value=t,setTimeout(()=>{Y.value=null},1e3),setTimeout(async()=>{try{navigator.clipboard&&navigator.clipboard.readText&&await navigator.clipboard.readText()===e&&await navigator.clipboard.writeText("")}catch{}},3e4)}catch(o){r.error("å¤åˆ¶å¤±è´¥ï¼š"+o.message)}else r.warning("éªŒè¯ç è¿˜æœªç”Ÿæˆï¼Œè¯·ç¨å€™")},le=()=>{Z.value="æ·»åŠ å¯†é’¥",_.value={name:"",secret_key:"",issuer:"",note:""},M.value=!0},N=p(!1),W=p(""),ye=p(null),H=p(!1),Ee=()=>{N.value=!0,W.value="",setTimeout(()=>{document.addEventListener("paste",ne)},100)},he=()=>{document.removeEventListener("paste",ne)},Re=()=>{var t;(t=ye.value)==null||t.click()},$e=t=>{const e=t.target.files[0];e&&ie(e)},Me=t=>{t.preventDefault(),H.value=!0},Oe=t=>{t.preventDefault(),H.value=!1},je=t=>{t.preventDefault(),H.value=!1;const e=t.dataTransfer.files[0];e&&e.type.startsWith("image/")?ie(e):r.warning("è¯·æ‹–æ‹½å›¾ç‰‡æ–‡ä»¶")},ne=t=>{var o;if(!N.value)return;const e=(o=t.clipboardData)==null?void 0:o.items;if(e){for(let i=0;i<e.length;i++)if(e[i].type.startsWith("image/")){const y=e[i].getAsFile();ie(y),t.preventDefault();break}}},ie=t=>{if(!t)return;if(!t.type.startsWith("image/")){r.error("è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼ˆJPGã€PNG ç­‰æ ¼å¼ï¼‰");return}if(t.size>10*1024*1024){r.error("å›¾ç‰‡æ–‡ä»¶è¿‡å¤§ï¼Œè¯·é€‰æ‹©å°äº 10MB çš„å›¾ç‰‡");return}const e=new FileReader;e.onload=async o=>{var i,y;try{W.value=o.target.result;const C=r.loading({content:"æ­£åœ¨è¯†åˆ«äºŒç»´ç ï¼Œè¯·ç¨å€™...",duration:0}),S=await ot.upload({image:o.target.result});if(C.close(),S.data.success){const L=S.data.data;if(console.log("è§£æç»“æœ:",L),!L.secret){r.error("äºŒç»´ç æ•°æ®ä¸å®Œæ•´ï¼Œç¼ºå°‘å¯†é’¥ä¿¡æ¯");return}_.value={name:L.name||L.issuer||"æœªå‘½å",secret_key:L.secret,issuer:L.issuer||"",note:""},r.success({content:"âœ“ äºŒç»´ç è¯†åˆ«æˆåŠŸï¼",duration:2e3}),N.value=!1,M.value=!0,he()}}catch(C){r.close(),console.error("äºŒç»´ç å¤„ç†é”™è¯¯:",C);const S=((y=(i=C.response)==null?void 0:i.data)==null?void 0:y.message)||C.message;S.includes("æœªèƒ½è¯†åˆ«")||S.includes("æœªæ‰¾åˆ°")?r.error({content:`âŒ æœªèƒ½è¯†åˆ«åˆ°äºŒç»´ç 

ğŸ’¡ è¯·ç¡®ä¿ï¼š
â€¢ å›¾ç‰‡æ¸…æ™°å®Œæ•´
â€¢ åŒ…å«å®Œæ•´çš„äºŒç»´ç 
â€¢ å…‰çº¿å……è¶³ã€æ— åå…‰
â€¢ å°è¯•æ”¾å¤§åæˆªå›¾`,duration:5e3}):S.includes("otpauth")?r.error({content:`âŒ äºŒç»´ç æ ¼å¼ä¸æ­£ç¡®

ğŸ’¡ è¯·ä½¿ç”¨ï¼š
â€¢ Google Authenticator
â€¢ Microsoft Authenticator
â€¢ å…¶ä»–æ ‡å‡† TOTP åº”ç”¨çš„äºŒç»´ç `,duration:5e3}):r.error({content:`äºŒç»´ç è§£æå¤±è´¥

åŸå› ï¼š`+S,duration:4e3})}},e.onerror=()=>{r.error("å›¾ç‰‡è¯»å–å¤±è´¥ï¼Œè¯·ç¡®ä¿æ–‡ä»¶æœªæŸå")},e.readAsDataURL(t)},Be=async()=>{var t,e;if(!_.value.name||!_.value.secret_key){r.warning("è¯·å¡«å†™åç§°å’Œå¯†é’¥");return}try{_.value.id?(await R.update(_.value.id,_.value),r.success("æ›´æ–°æˆåŠŸ")):(await R.create(_.value),r.success("æ·»åŠ æˆåŠŸ")),O(),K(),M.value=!1}catch(o){r.error(((e=(t=o.response)==null?void 0:t.data)==null?void 0:e.message)||"æ“ä½œå¤±è´¥")}},ke=async(t,e)=>{switch(t.value){case"edit":Z.value="ç¼–è¾‘å¯†é’¥",_.value={...e},M.value=!0;break;case"favorite":try{await R.toggleFavorite(e.id),O(),r.success(e.is_favorite?"å·²å–æ¶ˆæ”¶è—":"å·²æ”¶è—")}catch{r.error("æ“ä½œå¤±è´¥")}break;case"delete":try{await R.delete(e.id),r.success("åˆ é™¤æˆåŠŸ"),O()}catch{r.error("åˆ é™¤å¤±è´¥")}break}},be=async t=>{switch(t.value){case"export":try{const e=await Ue.export(),o=new Blob([JSON.stringify(e.data.data,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),y=document.createElement("a");y.href=i,y.download=`2fa-backup-${Date.now()}.json`,y.click(),URL.revokeObjectURL(i),localStorage.setItem("last_backup_time",Date.now().toString()),r.success("å¯¼å‡ºæˆåŠŸ")}catch{r.error("å¯¼å‡ºå¤±è´¥")}break;case"import":q.value=!0;break;case"api-keys":k.push("/api-keys");break;case"theme":k.push("/theme");break;case"settings":k.push("/settings");break}},we=()=>{u.lock(),k.push("/unlock")},Ke=async t=>{switch(t.value){case"profile":k.push("/profile");break;case"change-password":k.push("/profile");break;case"admin":k.push("/admin");break;case"api-keys":k.push("/api-keys");break;case"theme":k.push("/theme");break;case"logout":await at.confirm({header:"é€€å‡ºç™»å½•",body:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",confirmBtn:"é€€å‡º",cancelBtn:"å–æ¶ˆ"})&&(u.logout(),r.success("å·²é€€å‡ºç™»å½•"),k.push("/login"));break}},Ne=async()=>{if(u.authToken)try{const t=await st.getCurrentUser();t.data.success&&(E.value=t.data.data)}catch(t){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},xe=t=>{const e=T.value.indexOf(t);e>-1?T.value.splice(e,1):T.value.push(t)},Ce=async t=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(t),r.success("å¯†é’¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");else{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select();try{if(document.execCommand("copy"))r.success("å¯†é’¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");else throw new Error("å¤åˆ¶å‘½ä»¤æ‰§è¡Œå¤±è´¥")}finally{document.body.removeChild(e)}}}catch(e){r.error("å¤åˆ¶å¤±è´¥ï¼š"+e.message)}},Pe=()=>{b.value=!0,v.value=[]},De=()=>{b.value=!1,v.value=[]},ze=t=>{const e=v.value.indexOf(t);e>-1?v.value.splice(e,1):v.value.push(t)},qe=t=>{t?v.value=x.value.map(e=>e.id):v.value=[]},Ge=async()=>{var e,o;if(v.value.length===0){r.warning("è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„å¯†é’¥");return}if(confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${v.value.length} ä¸ªå¯†é’¥å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼`))try{await R.batchDelete(v.value),r.success(`æˆåŠŸåˆ é™¤ ${v.value.length} ä¸ªå¯†é’¥`),O(),K(),De()}catch(i){r.error("æ‰¹é‡åˆ é™¤å¤±è´¥ï¼š"+(((o=(e=i.response)==null?void 0:e.data)==null?void 0:o.message)||i.message))}},Je=()=>{if(v.value.length===0){r.warning("è¯·å…ˆé€‰æ‹©è¦å¯¼å‡ºçš„å¯†é’¥");return}try{const t=I.value.filter(C=>v.value.includes(C.id)),e={version:"2.0.0",timestamp:new Date().toISOString(),count:t.length,secrets:t},o=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),y=document.createElement("a");y.href=i,y.download=`2fa-selected-${t.length}-${Date.now()}.json`,y.click(),URL.revokeObjectURL(i),r.success(`æˆåŠŸå¯¼å‡º ${t.length} ä¸ªå¯†é’¥`)}catch(t){r.error("å¯¼å‡ºå¤±è´¥ï¼š"+t.message)}},Qe=t=>{G.value=t.target.files[0]},We=async()=>{if(!G.value){r.warning("è¯·é€‰æ‹©æ–‡ä»¶");return}try{const t=await G.value.text(),e=JSON.parse(t);await Ue.import({categories:e.categories,secrets:e.secrets,merge:ee.value==="merge"}),r.success("å¯¼å…¥æˆåŠŸ"),O(),K(),q.value=!1}catch(t){r.error("å¯¼å…¥å¤±è´¥ï¼š"+t.message)}};nt({onSearch:()=>{var t;return(t=document.querySelector(".search-input input"))==null?void 0:t.focus()},onNew:le,onLock:we});const He=()=>{const t=localStorage.getItem("last_backup_time");if(!t)return;const e=(Date.now()-parseInt(t))/(1e3*60*60*24);e>7&&setTimeout(()=>{r.warning({content:`æ‚¨å·²ç» ${Math.floor(e)} å¤©æ²¡æœ‰å¤‡ä»½æ•°æ®äº†ï¼Œå»ºè®®ç«‹å³å¤‡ä»½`,duration:8e3})},2e3)};let re=null;return Ae(()=>{O(),K(),Ne(),He(),re=setInterval(()=>{z.value--,z.value<=0&&K()},1e3),window.addEventListener("resize",B)}),Ie(()=>{re&&clearInterval(re),window.removeEventListener("resize",B),document.removeEventListener("paste",ne)}),(t,e)=>{const o=h("t-icon"),i=h("t-button"),y=h("t-dropdown"),C=h("t-input"),S=h("t-checkbox"),L=h("t-space"),Xe=h("t-loading"),Se=h("t-progress"),j=h("t-form-item"),Ye=h("t-textarea"),Ve=h("t-form"),ce=h("t-dialog"),Le=h("t-radio"),Ze=h("t-radio-group");return c(),f("div",it,[a("div",rt,[a("div",ct,[a("div",ut,[a("div",dt,[a("div",vt,[l(o,{name:"secured",size:"22px"})]),e[11]||(e[11]=a("div",{class:"brand-info"},[a("span",{class:"brand-name"},"2FA Authenticator")],-1))])]),a("div",pt,[b.value?g("",!0):(c(),D(i,{key:0,theme:"primary",onClick:le,class:"action-btn"},{icon:n(()=>[l(o,{name:"add"})]),default:n(()=>[e[12]||(e[12]=a("span",{class:"btn-text"},"æ–°å»º",-1))]),_:1})),!b.value&&x.value.length>0?(c(),D(i,{key:1,variant:"outline",onClick:Pe,class:"action-btn"},{icon:n(()=>[l(o,{name:"check-circle"})]),default:n(()=>[e[13]||(e[13]=a("span",{class:"btn-text"},"æ‰¹é‡",-1))]),_:1})):g("",!0),b.value?(c(),D(i,{key:2,theme:"danger",onClick:De,class:"action-btn exit-batch-btn"},{default:n(()=>[e[14]||(e[14]=a("span",{class:"btn-text"},"é€€å‡ºæ‰¹é‡",-1)),l(o,{name:"close",class:"btn-icon-only"})]),_:1})):g("",!0),b.value?g("",!0):(c(),D(y,{key:3,options:Fe,onClick:be},{default:n(()=>[l(i,{variant:"outline",shape:"circle",class:"icon-btn"},{default:n(()=>[l(o,{name:"ellipsis"})]),_:1})]),_:1})),!b.value&&E.value?(c(),D(y,{key:4,options:Te.value,onClick:Ke},{default:n(()=>[l(i,{variant:"outline",class:"user-btn"},{default:n(()=>[l(o,{name:"user"}),a("span",mt,d(E.value.username),1)]),_:1})]),_:1},8,["options"])):g("",!0),b.value?g("",!0):(c(),D(i,{key:5,variant:"outline",shape:"circle",onClick:we,class:"icon-btn"},{default:n(()=>[l(o,{name:"lock-on"})]),_:1}))]),a("div",ft,[l(C,{modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=s=>F.value=s),placeholder:A.value?"æœç´¢...":"æœç´¢å¯†é’¥ã€å‘è¡Œå•†...",class:"search-input",clearable:""},{"prefix-icon":n(()=>[l(o,{name:"search"})]),_:1},8,["modelValue","placeholder"])])])]),b.value&&x.value.length>0?(c(),f("div",gt,[a("div",_t,[l(S,{modelValue:fe.value,"onUpdate:modelValue":e[1]||(e[1]=s=>fe.value=s),onChange:qe},{default:n(()=>[...e[15]||(e[15]=[U(" å…¨é€‰ ",-1)])]),_:1},8,["modelValue"]),a("span",yt,"å·²é€‰æ‹© "+d(v.value.length)+" é¡¹",1)]),a("div",ht,[l(i,{theme:"primary",variant:"outline",disabled:v.value.length===0,onClick:Je},{icon:n(()=>[l(o,{name:"download"})]),default:n(()=>[e[16]||(e[16]=U(" å¯¼å‡ºé€‰ä¸­ ",-1))]),_:1},8,["disabled"]),l(i,{theme:"danger",disabled:v.value.length===0,onClick:Ge},{icon:n(()=>[l(o,{name:"delete"})]),default:n(()=>[e[17]||(e[17]=U(" åˆ é™¤é€‰ä¸­ ",-1))]),_:1},8,["disabled"])])])):g("",!0),a("div",kt,[!V.value&&pe.value.length>0?(c(),f("div",bt,[a("div",wt,[l(o,{name:"star-filled",style:{color:"#faad14","margin-right":"8px"}}),e[18]||(e[18]=a("span",{class:"favorites-title"},"å¸¸ç”¨å¯†é’¥",-1))]),a("div",xt,[(c(!0),f(ue,null,de(pe.value,s=>(c(),f("div",{key:s.id,class:"favorite-item",onClick:w=>Q(s.id),title:`ç‚¹å‡»å¤åˆ¶ ${s.name} çš„éªŒè¯ç `},[a("div",{class:"favorite-icon",style:ve({backgroundColor:ae(s)})},d(te(s)),5),a("div",Dt,[a("div",zt,d(s.name),1),a("div",St,d(se(oe(s.id))),1)])],8,Ct))),128))])])):g("",!0),!V.value&&x.value.length===0?(c(),f("div",Vt,[a("div",Lt,[l(o,{name:"secured",size:"80px"})]),a("h3",Ut,d(F.value?"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å¯†é’¥":"å¼€å§‹ä½¿ç”¨ 2FA ç¬”è®°æœ¬"),1),a("p",At,d(F.value?"è¯•è¯•å…¶ä»–æœç´¢å…³é”®è¯":"æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªä¸¤æ­¥éªŒè¯å¯†é’¥ï¼Œä¿æŠ¤è´¦æˆ·å®‰å…¨"),1),F.value?g("",!0):(c(),D(L,{key:0,direction:"vertical",size:"large"},{default:n(()=>[l(i,{theme:"primary",size:"large",onClick:le},{icon:n(()=>[l(o,{name:"add"})]),default:n(()=>[e[19]||(e[19]=U(" æ·»åŠ å¯†é’¥ ",-1))]),_:1}),l(i,{variant:"text",size:"large",onClick:e[2]||(e[2]=s=>be({value:"import"}))},{default:n(()=>[...e[20]||(e[20]=[U(" æˆ–å¯¼å…¥ç°æœ‰æ•°æ® ",-1)])]),_:1})]),_:1}))])):V.value?(c(),D(Xe,{key:2,size:"large",text:"åŠ è½½ä¸­..."})):(c(),f("div",It,[a("table",Ft,[a("thead",null,[a("tr",null,[b.value?(c(),f("th",Tt)):g("",!0),e[21]||(e[21]=a("th",{class:"icon-col"},null,-1)),e[22]||(e[22]=a("th",{class:"name-col"},"æœåŠ¡/åç§°",-1)),e[23]||(e[23]=a("th",{class:"issuer-col"},"å‘è¡Œè€…",-1)),e[24]||(e[24]=a("th",{class:"note-col"},"å¤‡æ³¨",-1)),e[25]||(e[25]=a("th",{class:"key-col"},"å¯†é’¥",-1)),e[26]||(e[26]=a("th",{class:"code-col"},"éªŒè¯ç ",-1)),e[27]||(e[27]=a("th",{class:"timer-col"},"å‰©ä½™æ—¶é—´",-1)),e[28]||(e[28]=a("th",{class:"action-col"},"æ“ä½œ",-1))])]),a("tbody",null,[(c(!0),f(ue,null,de(x.value,s=>(c(),f("tr",{key:s.id,class:X(["secret-row",{"selected-row":v.value.includes(s.id)}])},[b.value?(c(),f("td",Et,[l(S,{checked:v.value.includes(s.id),onChange:w=>ze(s.id)},null,8,["checked","onChange"])])):g("",!0),a("td",Rt,[a("div",{class:"service-icon",style:ve({backgroundColor:ae(s)})},d(te(s)),5)]),a("td",$t,[a("div",Mt,[a("span",Ot,d(s.name),1),s.is_favorite?(c(),D(o,{key:0,name:"star-filled",style:{color:"#faad14","margin-left":"8px"}})):g("",!0)])]),a("td",jt,[a("span",Bt,d(s.issuer||"-"),1)]),a("td",Kt,[a("span",{class:"note-text",title:s.note},d(s.note||"-"),9,Nt)]),a("td",Pt,[a("div",qt,[a("span",Gt,d(T.value.includes(s.id)?s.secret_key:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"),1),a("div",Jt,[l(i,{size:"small",variant:"text",onClick:w=>xe(s.id),title:T.value.includes(s.id)?"éšè—å¯†é’¥":"æ˜¾ç¤ºå¯†é’¥"},{default:n(()=>[l(o,{name:T.value.includes(s.id)?"browse-off":"browse"},null,8,["name"])]),_:2},1032,["onClick","title"]),l(i,{size:"small",variant:"text",onClick:w=>Ce(s.secret_key),title:"å¤åˆ¶å¯†é’¥"},{default:n(()=>[l(o,{name:"file-copy"})]),_:1},8,["onClick"])])])]),a("td",Qt,[a("div",{class:X(["code-display",{"code-expiring":z.value<=5,"copied-animation":Y.value===s.id}]),onClick:w=>Q(s.id),title:z.value<=5?"éªŒè¯ç å³å°†è¿‡æœŸï¼":"ç‚¹å‡»å¤åˆ¶éªŒè¯ç "},d(se(oe(s.id))),11,Wt)]),a("td",Ht,[a("div",Xt,[l(Se,{percentage:J.value,"stroke-width":6,theme:J.value>30?"success":"warning","show-label":!1,style:{width:"100px","margin-right":"8px"}},null,8,["percentage","theme"]),a("span",Yt,d(z.value)+"s",1)])]),a("td",Zt,[b.value?(c(),f("span",ea,"æ‰¹é‡æ¨¡å¼")):(c(),D(L,{key:0,size:"small"},{default:n(()=>[l(i,{size:"small",theme:"primary",variant:"outline",onClick:w=>Q(s.id)},{default:n(()=>[l(o,{name:"file-copy"})]),_:1},8,["onClick"]),l(y,{options:me(s),onClick:w=>ke(w,s)},{default:n(()=>[l(i,{size:"small",variant:"outline"},{default:n(()=>[l(o,{name:"more"})]),_:1})]),_:1},8,["options","onClick"])]),_:2},1024))])],2))),128))])])])),!V.value&&x.value.length>0?(c(),f("div",ta,[(c(!0),f(ue,null,de(x.value,s=>(c(),f("div",{key:s.id,class:X(["mobile-card",{"selected-card":v.value.includes(s.id)}])},[a("div",aa,[b.value?(c(),D(S,{key:0,checked:v.value.includes(s.id),onChange:w=>ze(s.id),style:{"margin-right":"12px"}},null,8,["checked","onChange"])):g("",!0),a("div",oa,[a("div",{class:"service-icon-mobile",style:ve({backgroundColor:ae(s)})},d(te(s)),5),a("div",null,[a("div",sa,[U(d(s.name)+" ",1),s.is_favorite?(c(),D(o,{key:0,name:"star-filled",style:{color:"#faad14","margin-left":"4px"},size:"14px"})):g("",!0)]),a("div",la,d(s.issuer||"æœªè®¾ç½®å‘è¡Œè€…"),1)])]),l(y,{options:me(s),onClick:w=>ke(w,s)},{default:n(()=>[l(i,{size:"small",variant:"text"},{default:n(()=>[l(o,{name:"more",size:"20px"})]),_:1})]),_:1},8,["options","onClick"])]),s.note?(c(),f("div",na,[l(o,{name:"chat",size:"14px",style:{color:"#999","margin-right":"4px"}}),a("span",ia,d(s.note),1)])):g("",!0),a("div",ra,[e[29]||(e[29]=a("div",{class:"mobile-secret-label"},"å¯†é’¥",-1)),a("div",ca,[a("span",ua,d(T.value.includes(s.id)?s.secret_key:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"),1),a("div",da,[l(i,{size:"small",variant:"text",onClick:w=>xe(s.id)},{default:n(()=>[l(o,{name:T.value.includes(s.id)?"browse-off":"browse"},null,8,["name"])]),_:2},1032,["onClick"]),l(i,{size:"small",variant:"text",onClick:w=>Ce(s.secret_key)},{default:n(()=>[l(o,{name:"file-copy"})]),_:1},8,["onClick"])])])]),a("div",va,[a("div",pa,d(se(oe(s.id))),1),l(i,{theme:"primary",size:"large",block:"",onClick:w=>Q(s.id)},{icon:n(()=>[l(o,{name:"file-copy"})]),default:n(()=>[e[30]||(e[30]=U(" å¤åˆ¶éªŒè¯ç  ",-1))]),_:1},8,["onClick"])]),a("div",ma,[l(Se,{percentage:J.value,"stroke-width":4,theme:J.value>30?"success":"warning","show-label":!1},null,8,["percentage","theme"]),a("span",fa,d(z.value)+" ç§’ååˆ·æ–°",1)])],2))),128))])):g("",!0),!V.value&&x.value.length>0?(c(),f("div",ga,[a("div",_a,[l(o,{name:"key",size:"16px"}),a("span",null,"æ€»è®¡ "+d(I.value.length)+" ä¸ªå¯†é’¥",1)]),F.value?(c(),f("div",ya,[l(o,{name:"search",size:"16px"}),a("span",null,"ç­›é€‰ "+d(x.value.length)+" ä¸ª",1)])):g("",!0),a("div",ha,[l(o,{name:"refresh",size:"16px"}),a("span",null,d(z.value)+"ç§’ååˆ·æ–°",1)])])):g("",!0)]),l(ce,{visible:M.value,"onUpdate:visible":e[7]||(e[7]=s=>M.value=s),header:Z.value,width:A.value?"92%":"600px",onConfirm:Be},{default:n(()=>[l(Ve,{data:_.value,"label-width":"80px"},{default:n(()=>[l(j,{label:"åç§°",required:""},{default:n(()=>[l(C,{modelValue:_.value.name,"onUpdate:modelValue":e[3]||(e[3]=s=>_.value.name=s),placeholder:"ä¾‹å¦‚ï¼šGitHub"},null,8,["modelValue"])]),_:1}),l(j,{label:"å¯†é’¥",required:""},{tips:n(()=>[l(L,{direction:"vertical",size:"4px"},{default:n(()=>[e[32]||(e[32]=a("span",null,"ä»æœåŠ¡å•†è·å–çš„å¯†é’¥å­—ç¬¦ä¸²",-1)),l(i,{size:"small",theme:"primary",variant:"text",onClick:Ee},{default:n(()=>[...e[31]||(e[31]=[U(" æˆ–è€…ä¸Šä¼ äºŒç»´ç å›¾ç‰‡ ",-1)])]),_:1})]),_:1})]),default:n(()=>[l(C,{modelValue:_.value.secret_key,"onUpdate:modelValue":e[4]||(e[4]=s=>_.value.secret_key=s),placeholder:"Base32 æ ¼å¼å¯†é’¥"},null,8,["modelValue"])]),_:1}),l(j,{label:"å‘è¡Œè€…"},{default:n(()=>[l(C,{modelValue:_.value.issuer,"onUpdate:modelValue":e[5]||(e[5]=s=>_.value.issuer=s),placeholder:"ä¾‹å¦‚ï¼šgithub.com"},null,8,["modelValue"])]),_:1}),l(j,{label:"å¤‡æ³¨"},{default:n(()=>[l(Ye,{modelValue:_.value.note,"onUpdate:modelValue":e[6]||(e[6]=s=>_.value.note=s),placeholder:"æ·»åŠ å¤‡æ³¨ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰",autosize:{minRows:2,maxRows:4}},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","header","width"]),l(ce,{visible:q.value,"onUpdate:visible":e[9]||(e[9]=s=>q.value=s),header:"å¯¼å…¥æ•°æ®",width:A.value?"92%":"500px",onConfirm:We},{default:n(()=>[l(Ve,null,{default:n(()=>[l(j,{label:"å¯¼å…¥æ¨¡å¼"},{default:n(()=>[l(Ze,{modelValue:ee.value,"onUpdate:modelValue":e[8]||(e[8]=s=>ee.value=s)},{default:n(()=>[l(Le,{value:"merge"},{default:n(()=>[...e[33]||(e[33]=[U("åˆå¹¶åˆ°ç°æœ‰æ•°æ®",-1)])]),_:1}),l(Le,{value:"replace"},{default:n(()=>[...e[34]||(e[34]=[U("æ›¿æ¢ç°æœ‰æ•°æ®",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(j,{label:"é€‰æ‹©æ–‡ä»¶"},{default:n(()=>[a("input",{type:"file",accept:".json",onChange:Qe,ref_key:"fileInputRef",ref:G},null,544)]),_:1})]),_:1})]),_:1},8,["visible","width"]),l(ce,{visible:N.value,"onUpdate:visible":e[10]||(e[10]=s=>N.value=s),header:"æ‰«æäºŒç»´ç ",width:A.value?"92%":"500px",footer:!1,onClose:he},{default:n(()=>[a("div",ka,[W.value?(c(),f("div",ba,[a("img",{src:W.value,style:{"max-width":"100%","max-height":"300px","border-radius":"8px"}},null,8,wa)])):g("",!0),a("div",{class:X(["qr-upload-zone",{dragging:H.value}]),onDrop:je,onDragover:Me,onDragleave:Oe,onClick:Re},[l(o,{name:"cloud-upload",size:"48px",style:{color:"#0052d9","margin-bottom":"16px"}}),e[35]||(e[35]=a("div",{class:"upload-text-primary"}," ğŸ“¤ ç‚¹å‡»é€‰æ‹© / æ‹–æ‹½å›¾ç‰‡ / Ctrl+V ç²˜è´´ ",-1)),e[36]||(e[36]=a("div",{class:"upload-text-secondary"}," æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œæœ€å¤§ 10MB ",-1)),e[37]||(e[37]=a("div",{class:"upload-tips"},[a("div",{class:"tip-item"},"ğŸ’¡ ç¡®ä¿å›¾ç‰‡æ¸…æ™°å®Œæ•´"),a("div",{class:"tip-item"},"ğŸ’¡ åŒ…å«å®Œæ•´çš„äºŒç»´ç åŒºåŸŸ"),a("div",{class:"tip-item"},"ğŸ’¡ æ”¯æŒ Google / Microsoft Authenticator ç­‰æ ‡å‡†æ ¼å¼")],-1)),a("input",{ref_key:"qrFileInput",ref:ye,type:"file",accept:"image/*",style:{display:"none"},onChange:$e},null,544)],34),e[38]||(e[38]=a("div",{style:{"margin-top":"16px",color:"#999","font-size":"13px","text-align":"left"}},[a("p",null,[a("strong",null,"ä½¿ç”¨æ–¹æ³•ï¼š")]),a("p",null,"â€¢ ç‚¹å‡»ä¸Šæ–¹åŒºåŸŸé€‰æ‹©å›¾ç‰‡"),a("p",null,"â€¢ æ‹–æ‹½å›¾ç‰‡åˆ°ä¸Šæ–¹åŒºåŸŸ"),a("p",null,"â€¢ å¤åˆ¶å›¾ç‰‡åæŒ‰ Ctrl+V ç²˜è´´"),a("p",null,"â€¢ ç³»ç»Ÿå°†è‡ªåŠ¨è§£æäºŒç»´ç å¹¶å¡«å……å¯†é’¥")],-1))])]),_:1},8,["visible","width"])])}}},Sa=lt(xa,[["__scopeId","data-v-5d3b5f94"]]);export{Sa as default};
