import{Y as e,a6 as a,r as l,o as s,O as n,P as t,Q as u,b as i,$ as d,Z as o,E as c,a1 as r,G as m,F as v,a2 as p,R as h}from"./vendor-d600c78b.js";import{u as f}from"./index-64ce2276.js";import{_}from"./_plugin-vue_export-helper-1b428a4d.js";import{D as b}from"./ui-703c31fd.js";const g={class:"admin-layout"},y={class:"aside-header"},k={class:"brand-logo"},x={class:"menu-container"},C={class:"header-content"},z={class:"header-left"},A={class:"username"},V={class:"mobile-nav mobile-only"},j=["onClick"],w={class:"admin-content app-container"},F={class:"admin-card app-card"},I={class:"drawer-header"},P=_({__name:"Admin",setup(_){const P=e(),U=a(),B=f(),$=l("dashboard"),D=l(!1),E=[{value:"dashboard",label:"仪表盘",icon:"dashboard"},{value:"users",label:"用户",icon:"user"},{value:"settings",label:"设置",icon:"setting"},{value:"logs",label:"日志",icon:"chart-line"}];s(()=>{const e=U.path.split("/").pop();$.value=e||"dashboard"});const G=e=>{"api-keys"!==e?"theme"!==e?P.push(`/admin/${e}`):P.push("/theme"):P.push("/api-keys")},O=e=>{G(e),D.value=!1},Q=()=>{P.push("/")},R=()=>{const e=b.confirm({header:"退出登录",body:"确定要退出登录吗？",confirmBtn:"确定",cancelBtn:"取消",onConfirm:()=>{B.logout(),P.push("/login"),e.hide()},onCancel:()=>{e.hide()}})};return(e,a)=>{const l=n("t-icon"),s=n("t-menu-item"),f=n("t-menu"),_=n("t-aside"),b=n("t-button"),P=n("t-space"),U=n("t-header"),Y=n("router-view"),Z=n("t-content"),q=n("t-layout"),H=n("t-drawer");return t(),u("div",g,[i(q,null,{default:d(()=>[i(_,{width:"220px",class:"admin-aside desktop-only"},{default:d(()=>[o("div",y,[o("div",k,[i(l,{name:"secured",size:"24px"}),a[4]||(a[4]=o("span",null,"2FA Admin",-1))])]),o("div",x,[i(f,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),theme:"dark",onChange:G},{default:d(()=>[i(s,{value:"dashboard"},{icon:d(()=>[i(l,{name:"dashboard"})]),default:d(()=>[a[5]||(a[5]=c(" 仪表盘 ",-1))]),_:1}),i(s,{value:"users"},{icon:d(()=>[i(l,{name:"user"})]),default:d(()=>[a[6]||(a[6]=c(" 用户管理 ",-1))]),_:1}),i(s,{value:"settings"},{icon:d(()=>[i(l,{name:"setting"})]),default:d(()=>[a[7]||(a[7]=c(" 系统设置 ",-1))]),_:1}),i(s,{value:"logs"},{icon:d(()=>[i(l,{name:"chart-line"})]),default:d(()=>[a[8]||(a[8]=c(" 使用日志 ",-1))]),_:1}),i(s,{value:"api-keys"},{icon:d(()=>[i(l,{name:"key"})]),default:d(()=>[a[9]||(a[9]=c(" API 密钥 ",-1))]),_:1}),i(s,{value:"theme"},{icon:d(()=>[i(l,{name:"palette"})]),default:d(()=>[a[10]||(a[10]=c(" 主题定制 ",-1))]),_:1})]),_:1},8,["modelValue"])])]),_:1}),i(q,null,{default:d(()=>[i(U,{class:"admin-header"},{default:d(()=>[o("div",C,[o("div",z,[i(l,{name:"menu-fold",size:"20px",class:"mobile-menu-icon mobile-only",onClick:a[1]||(a[1]=e=>D.value=!0)}),a[11]||(a[11]=o("h2",null,"后台管理",-1))]),i(P,{class:"header-right"},{default:d(()=>{var e;return[o("span",A,r(null==(e=m(B).user)?void 0:e.username),1),i(b,{size:"small",onClick:Q,class:"mobile-only"},{default:d(()=>[...a[12]||(a[12]=[c("返回",-1)])]),_:1}),i(b,{size:"small",onClick:R},{default:d(()=>[...a[13]||(a[13]=[c("退出",-1)])]),_:1})]}),_:1})])]),_:1}),o("div",V,[(t(),u(v,null,p(E,e=>o("div",{key:e.value,class:h(["mobile-nav-item",{active:$.value===e.value}]),onClick:a=>G(e.value)},[i(l,{name:e.icon,size:"20px"},null,8,["name"]),o("span",null,r(e.label),1)],10,j)),64))]),i(Z,null,{default:d(()=>[o("div",w,[o("div",F,[i(Y)])])]),_:1})]),_:1})]),_:1}),i(H,{visible:D.value,"onUpdate:visible":a[3]||(a[3]=e=>D.value=e),placement:"left",size:"280px","show-overlay":!0},{header:d(()=>[o("div",I,[i(l,{name:"secured",size:"24px"}),a[14]||(a[14]=o("span",null,"2FA Admin",-1))])]),default:d(()=>[i(f,{modelValue:$.value,"onUpdate:modelValue":a[2]||(a[2]=e=>$.value=e),onChange:O},{default:d(()=>[i(s,{value:"dashboard"},{icon:d(()=>[i(l,{name:"dashboard"})]),default:d(()=>[a[15]||(a[15]=c(" 仪表盘 ",-1))]),_:1}),i(s,{value:"users"},{icon:d(()=>[i(l,{name:"user"})]),default:d(()=>[a[16]||(a[16]=c(" 用户管理 ",-1))]),_:1}),i(s,{value:"settings"},{icon:d(()=>[i(l,{name:"setting"})]),default:d(()=>[a[17]||(a[17]=c(" 系统设置 ",-1))]),_:1}),i(s,{value:"logs"},{icon:d(()=>[i(l,{name:"chart-line"})]),default:d(()=>[a[18]||(a[18]=c(" 使用日志 ",-1))]),_:1}),i(s,{value:"api-keys"},{icon:d(()=>[i(l,{name:"key"})]),default:d(()=>[a[19]||(a[19]=c(" API 密钥 ",-1))]),_:1}),i(s,{value:"theme"},{icon:d(()=>[i(l,{name:"palette"})]),default:d(()=>[a[20]||(a[20]=c(" 主题定制 ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible"])])}}},[["__scopeId","data-v-faed2502"]]);export{P as default};
