import{u as N,v as P,b as S,r as g,o as U,d as u,e as h,f as y,h as n,w as t,g as a,l,t as k,x as $,F as L,k as R,m as E,D as T}from"./index-82da048e.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const q={class:"admin-layout"},G={class:"aside-header"},H={class:"brand-logo"},J={class:"menu-container"},K={class:"header-content"},O={class:"header-left"},Q={class:"username"},W={class:"mobile-nav mobile-only"},X=["onClick"],Y={class:"admin-content app-container"},Z={class:"admin-card app-card"},ee={class:"drawer-header"},ne={__name:"Admin",setup(te){const m=N(),C=P(),v=S(),r=g("dashboard"),p=g(!1),x=[{value:"dashboard",label:"仪表盘",icon:"dashboard"},{value:"users",label:"用户",icon:"user"},{value:"settings",label:"设置",icon:"setting"},{value:"logs",label:"日志",icon:"chart-line"}];U(()=>{const i=C.path.split("/").pop();r.value=i||"dashboard"});const _=i=>{if(i==="api-keys"){m.push("/api-keys");return}if(i==="theme"){m.push("/theme");return}m.push(`/admin/${i}`)},w=i=>{_(i),p.value=!1},A=()=>{m.push("/")},V=()=>{const i=T.confirm({header:"退出登录",body:"确定要退出登录吗？",confirmBtn:"确定",cancelBtn:"取消",onConfirm:()=>{v.logout(),m.push("/login"),i.hide()},onCancel:()=>{i.hide()}})};return(i,e)=>{const o=u("t-icon"),d=u("t-menu-item"),c=u("t-menu"),z=u("t-aside"),f=u("t-button"),M=u("t-space"),B=u("t-header"),F=u("router-view"),I=u("t-content"),b=u("t-layout"),D=u("t-drawer");return h(),y("div",q,[n(b,null,{default:t(()=>[n(z,{width:"220px",class:"admin-aside desktop-only"},{default:t(()=>[a("div",G,[a("div",H,[n(o,{name:"secured",size:"24px"}),e[4]||(e[4]=a("span",null,"2FA Admin",-1))])]),a("div",J,[n(c,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),theme:"dark",onChange:_},{default:t(()=>[n(d,{value:"dashboard"},{icon:t(()=>[n(o,{name:"dashboard"})]),default:t(()=>[e[5]||(e[5]=l(" 仪表盘 ",-1))]),_:1}),n(d,{value:"users"},{icon:t(()=>[n(o,{name:"user"})]),default:t(()=>[e[6]||(e[6]=l(" 用户管理 ",-1))]),_:1}),n(d,{value:"settings"},{icon:t(()=>[n(o,{name:"setting"})]),default:t(()=>[e[7]||(e[7]=l(" 系统设置 ",-1))]),_:1}),n(d,{value:"logs"},{icon:t(()=>[n(o,{name:"chart-line"})]),default:t(()=>[e[8]||(e[8]=l(" 使用日志 ",-1))]),_:1}),n(d,{value:"api-keys"},{icon:t(()=>[n(o,{name:"key"})]),default:t(()=>[e[9]||(e[9]=l(" API 密钥 ",-1))]),_:1}),n(d,{value:"theme"},{icon:t(()=>[n(o,{name:"palette"})]),default:t(()=>[e[10]||(e[10]=l(" 主题定制 ",-1))]),_:1})]),_:1},8,["modelValue"])])]),_:1}),n(b,null,{default:t(()=>[n(B,{class:"admin-header"},{default:t(()=>[a("div",K,[a("div",O,[n(o,{name:"menu-fold",size:"20px",class:"mobile-menu-icon mobile-only",onClick:e[1]||(e[1]=s=>p.value=!0)}),e[11]||(e[11]=a("h2",null,"后台管理",-1))]),n(M,{class:"header-right"},{default:t(()=>{var s;return[a("span",Q,k((s=$(v).user)==null?void 0:s.username),1),n(f,{size:"small",onClick:A,class:"mobile-only"},{default:t(()=>[...e[12]||(e[12]=[l("返回",-1)])]),_:1}),n(f,{size:"small",onClick:V},{default:t(()=>[...e[13]||(e[13]=[l("退出",-1)])]),_:1})]}),_:1})])]),_:1}),a("div",W,[(h(),y(L,null,R(x,s=>a("div",{key:s.value,class:E(["mobile-nav-item",{active:r.value===s.value}]),onClick:oe=>_(s.value)},[n(o,{name:s.icon,size:"20px"},null,8,["name"]),a("span",null,k(s.label),1)],10,X)),64))]),n(I,null,{default:t(()=>[a("div",Y,[a("div",Z,[n(F)])])]),_:1})]),_:1})]),_:1}),n(D,{visible:p.value,"onUpdate:visible":e[3]||(e[3]=s=>p.value=s),placement:"left",size:"280px","show-overlay":!0},{header:t(()=>[a("div",ee,[n(o,{name:"secured",size:"24px"}),e[14]||(e[14]=a("span",null,"2FA Admin",-1))])]),default:t(()=>[n(c,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),onChange:w},{default:t(()=>[n(d,{value:"dashboard"},{icon:t(()=>[n(o,{name:"dashboard"})]),default:t(()=>[e[15]||(e[15]=l(" 仪表盘 ",-1))]),_:1}),n(d,{value:"users"},{icon:t(()=>[n(o,{name:"user"})]),default:t(()=>[e[16]||(e[16]=l(" 用户管理 ",-1))]),_:1}),n(d,{value:"settings"},{icon:t(()=>[n(o,{name:"setting"})]),default:t(()=>[e[17]||(e[17]=l(" 系统设置 ",-1))]),_:1}),n(d,{value:"logs"},{icon:t(()=>[n(o,{name:"chart-line"})]),default:t(()=>[e[18]||(e[18]=l(" 使用日志 ",-1))]),_:1}),n(d,{value:"api-keys"},{icon:t(()=>[n(o,{name:"key"})]),default:t(()=>[e[19]||(e[19]=l(" API 密钥 ",-1))]),_:1}),n(d,{value:"theme"},{icon:t(()=>[n(o,{name:"palette"})]),default:t(()=>[e[20]||(e[20]=l(" 主题定制 ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible"])])}}},le=j(ne,[["__scopeId","data-v-faed2502"]]);export{le as default};
