import{a4 as e,r as a,O as s,P as l,Q as t,Z as i,b as d,$ as n,G as o,a0 as c,a7 as u,E as v}from"./vendor-d600c78b.js";import{u as m}from"./index-64ce2276.js";import{a as r}from"./index-42d0e3ec.js";import{_ as p}from"./_plugin-vue_export-helper-1b428a4d.js";import{M as g}from"./ui-703c31fd.js";import"./utils-783a0963.js";const f={class:"settings-page"},h={class:"header"},b={class:"header-content"},V={class:"settings-content app-container"},w={class:"setting-section"},_={class:"section-title"},k={class:"setting-card app-card"},x={class:"setting-item"},y={class:"setting-section"},P={class:"section-title"},U={class:"setting-card app-card"},C={class:"setting-item"},j={class:"setting-section"},L={class:"section-title"},E={class:"setting-card app-card"},M={class:"setting-item"},T={key:0,class:"setting-item sub-item"},$={style:{display:"flex","align-items":"center",gap:"8px"}},z={class:"setting-item"},A={class:"setting-section"},S={class:"section-title"},F=p({__name:"Settings",setup(p){const{locale:F}=e(),G=m(),I=a(!1),N=a({oldPassword:"",newPassword:"",hint:""}),O=e=>{G.setTheme(e),g.success("主题已更新")},Q=e=>{G.setLanguage(e),F.value=e,g.success("语言已更新")},Z=()=>{g.success("设置已更新")},q=()=>{g.success("自动锁定时间已更新")},B=()=>{I.value=!0},D=async()=>{try{(await r.changeMasterPassword(N.value)).data.success&&(g.success("密码修改成功"),I.value=!1,G.lock())}catch(e){}};return(e,a)=>{const m=s("t-icon"),r=s("t-radio-button"),p=s("t-radio-group"),g=s("t-option"),F=s("t-select"),H=s("t-switch"),J=s("t-input-number"),K=s("t-divider"),R=s("t-button"),W=s("t-input"),X=s("t-form-item"),Y=s("t-form"),ee=s("t-dialog");return l(),t("div",f,[i("div",h,[i("div",b,[i("div",{class:"back-btn",onClick:a[0]||(a[0]=a=>e.$router.push("/"))},[d(m,{name:"chevron-left",size:"20px"}),a[9]||(a[9]=i("span",null,"返回",-1))]),a[10]||(a[10]=i("h1",null,"设置",-1))])]),i("div",V,[i("div",w,[i("div",_,[d(m,{name:"palette"}),a[11]||(a[11]=i("span",null,"外观",-1))]),i("div",k,[i("div",x,[a[15]||(a[15]=i("div",{class:"item-info"},[i("div",{class:"item-label"},"主题模式"),i("div",{class:"item-desc"},"选择您喜欢的主题")],-1)),d(p,{modelValue:o(G).theme,"onUpdate:modelValue":a[1]||(a[1]=e=>o(G).theme=e),onChange:O,variant:"default-filled"},{default:n(()=>[d(r,{value:"light"},{default:n(()=>[...a[12]||(a[12]=[v("浅色",-1)])]),_:1}),d(r,{value:"dark"},{default:n(()=>[...a[13]||(a[13]=[v("深色",-1)])]),_:1}),d(r,{value:"auto"},{default:n(()=>[...a[14]||(a[14]=[v("自动",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),i("div",y,[i("div",P,[d(m,{name:"translate"}),a[16]||(a[16]=i("span",null,"语言",-1))]),i("div",U,[i("div",C,[a[17]||(a[17]=i("div",{class:"item-info"},[i("div",{class:"item-label"},"界面语言"),i("div",{class:"item-desc"},"选择显示语言")],-1)),d(F,{modelValue:o(G).language,"onUpdate:modelValue":a[2]||(a[2]=e=>o(G).language=e),onChange:Q,style:{width:"150px"}},{default:n(()=>[d(g,{value:"zh-CN",label:"简体中文"}),d(g,{value:"en-US",label:"English"})]),_:1},8,["modelValue"])])])]),i("div",j,[i("div",L,[d(m,{name:"lock-on"}),a[18]||(a[18]=i("span",null,"安全",-1))]),i("div",E,[i("div",M,[a[19]||(a[19]=i("div",{class:"item-info"},[i("div",{class:"item-label"},"自动锁定"),i("div",{class:"item-desc"},"闲置后自动锁定应用")],-1)),d(H,{modelValue:o(G).autoLockEnabled,"onUpdate:modelValue":a[3]||(a[3]=e=>o(G).autoLockEnabled=e),onChange:Z},null,8,["modelValue"])]),o(G).autoLockEnabled?(l(),t("div",T,[a[21]||(a[21]=i("div",{class:"item-info"},[i("div",{class:"item-label"},"锁定时间"),i("div",{class:"item-desc"},"闲置多久后自动锁定")],-1)),i("div",$,[d(J,{modelValue:o(G).autoLockTimeout,"onUpdate:modelValue":a[4]||(a[4]=e=>o(G).autoLockTimeout=e),min:1,max:60,onChange:q,style:{width:"100px"}},null,8,["modelValue"]),a[20]||(a[20]=i("span",{class:"unit-text"},"分钟",-1))])])):c("",!0),d(K),i("div",z,[a[23]||(a[23]=i("div",{class:"item-info"},[i("div",{class:"item-label"},"修改主密码"),i("div",{class:"item-desc"},"更改您的主密码")],-1)),d(R,{theme:"default",variant:"outline",onClick:B},{default:n(()=>[...a[22]||(a[22]=[v(" 修改密码 ",-1)])]),_:1})])])]),i("div",A,[i("div",S,[d(m,{name:"info-circle"}),a[24]||(a[24]=i("span",null,"关于",-1))]),a[25]||(a[25]=u('<div class="setting-card app-card" data-v-2b68226c><div class="setting-item" data-v-2b68226c><div class="item-info" data-v-2b68226c><div class="item-label" data-v-2b68226c>版本信息</div><div class="item-desc" data-v-2b68226c>2FA Authenticator v2.3</div></div></div></div>',1))])]),d(ee,{visible:I.value,"onUpdate:visible":a[8]||(a[8]=e=>I.value=e),header:e.$t("auth.changeMasterPassword"),width:"500px",onConfirm:D},{default:n(()=>[d(Y,{data:N.value},{default:n(()=>[d(X,{label:"旧密码"},{default:n(()=>[d(W,{modelValue:N.value.oldPassword,"onUpdate:modelValue":a[5]||(a[5]=e=>N.value.oldPassword=e),type:"password"},null,8,["modelValue"])]),_:1}),d(X,{label:"新密码"},{default:n(()=>[d(W,{modelValue:N.value.newPassword,"onUpdate:modelValue":a[6]||(a[6]=e=>N.value.newPassword=e),type:"password"},null,8,["modelValue"])]),_:1}),d(X,{label:"密码提示"},{default:n(()=>[d(W,{modelValue:N.value.hint,"onUpdate:modelValue":a[7]||(a[7]=e=>N.value.hint=e),placeholder:"可选"},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","header"])])}}},[["__scopeId","data-v-2b68226c"]]);export{F as default};
