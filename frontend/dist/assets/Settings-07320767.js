import{p as $,b as z,r as b,d as n,e as w,f as V,g as e,h as s,w as l,x as d,j as F,y as I,M as r,l as v}from"./index-82da048e.js";import{a as j}from"./index-e7daf545.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const D={class:"settings-page"},G={class:"header"},H={class:"header-content"},J={class:"settings-content app-container"},K={class:"setting-section"},O={class:"section-title"},Q={class:"setting-card app-card"},R={class:"setting-item"},W={class:"setting-section"},X={class:"section-title"},Y={class:"setting-card app-card"},Z={class:"setting-item"},tt={class:"setting-section"},et={class:"section-title"},st={class:"setting-card app-card"},ot={class:"setting-item"},nt={key:0,class:"setting-item sub-item"},at={style:{display:"flex","align-items":"center",gap:"8px"}},lt={class:"setting-item"},it={class:"setting-section"},dt={class:"section-title"},ut={__name:"Settings",setup(mt){const{locale:h}=$(),a=z(),c=b(!1),u=b({oldPassword:"",newPassword:"",hint:""}),C=i=>{a.setTheme(i),r.success("主题已更新")},k=i=>{a.setLanguage(i),h.value=i,r.success("语言已更新")},x=()=>{r.success("设置已更新")},y=()=>{r.success("自动锁定时间已更新")},P=()=>{c.value=!0},L=async()=>{try{(await j.changeMasterPassword(u.value)).data.success&&(r.success("密码修改成功"),c.value=!1,a.lock())}catch(i){console.error("Change password failed:",i)}};return(i,t)=>{const m=n("t-icon"),p=n("t-radio-button"),U=n("t-radio-group"),f=n("t-option"),S=n("t-select"),A=n("t-switch"),N=n("t-input-number"),T=n("t-divider"),E=n("t-button"),_=n("t-input"),g=n("t-form-item"),M=n("t-form"),B=n("t-dialog");return w(),V("div",D,[e("div",G,[e("div",H,[e("div",{class:"back-btn",onClick:t[0]||(t[0]=o=>i.$router.push("/"))},[s(m,{name:"chevron-left",size:"20px"}),t[9]||(t[9]=e("span",null,"返回",-1))]),t[10]||(t[10]=e("h1",null,"设置",-1))])]),e("div",J,[e("div",K,[e("div",O,[s(m,{name:"palette"}),t[11]||(t[11]=e("span",null,"外观",-1))]),e("div",Q,[e("div",R,[t[15]||(t[15]=e("div",{class:"item-info"},[e("div",{class:"item-label"},"主题模式"),e("div",{class:"item-desc"},"选择您喜欢的主题")],-1)),s(U,{modelValue:d(a).theme,"onUpdate:modelValue":t[1]||(t[1]=o=>d(a).theme=o),onChange:C,variant:"default-filled"},{default:l(()=>[s(p,{value:"light"},{default:l(()=>[...t[12]||(t[12]=[v("浅色",-1)])]),_:1}),s(p,{value:"dark"},{default:l(()=>[...t[13]||(t[13]=[v("深色",-1)])]),_:1}),s(p,{value:"auto"},{default:l(()=>[...t[14]||(t[14]=[v("自动",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),e("div",W,[e("div",X,[s(m,{name:"translate"}),t[16]||(t[16]=e("span",null,"语言",-1))]),e("div",Y,[e("div",Z,[t[17]||(t[17]=e("div",{class:"item-info"},[e("div",{class:"item-label"},"界面语言"),e("div",{class:"item-desc"},"选择显示语言")],-1)),s(S,{modelValue:d(a).language,"onUpdate:modelValue":t[2]||(t[2]=o=>d(a).language=o),onChange:k,style:{width:"150px"}},{default:l(()=>[s(f,{value:"zh-CN",label:"简体中文"}),s(f,{value:"en-US",label:"English"})]),_:1},8,["modelValue"])])])]),e("div",tt,[e("div",et,[s(m,{name:"lock-on"}),t[18]||(t[18]=e("span",null,"安全",-1))]),e("div",st,[e("div",ot,[t[19]||(t[19]=e("div",{class:"item-info"},[e("div",{class:"item-label"},"自动锁定"),e("div",{class:"item-desc"},"闲置后自动锁定应用")],-1)),s(A,{modelValue:d(a).autoLockEnabled,"onUpdate:modelValue":t[3]||(t[3]=o=>d(a).autoLockEnabled=o),onChange:x},null,8,["modelValue"])]),d(a).autoLockEnabled?(w(),V("div",nt,[t[21]||(t[21]=e("div",{class:"item-info"},[e("div",{class:"item-label"},"锁定时间"),e("div",{class:"item-desc"},"闲置多久后自动锁定")],-1)),e("div",at,[s(N,{modelValue:d(a).autoLockTimeout,"onUpdate:modelValue":t[4]||(t[4]=o=>d(a).autoLockTimeout=o),min:1,max:60,onChange:y,style:{width:"100px"}},null,8,["modelValue"]),t[20]||(t[20]=e("span",{class:"unit-text"},"分钟",-1))])])):F("",!0),s(T),e("div",lt,[t[23]||(t[23]=e("div",{class:"item-info"},[e("div",{class:"item-label"},"修改主密码"),e("div",{class:"item-desc"},"更改您的主密码")],-1)),s(E,{theme:"default",variant:"outline",onClick:P},{default:l(()=>[...t[22]||(t[22]=[v(" 修改密码 ",-1)])]),_:1})])])]),e("div",it,[e("div",dt,[s(m,{name:"info-circle"}),t[24]||(t[24]=e("span",null,"关于",-1))]),t[25]||(t[25]=I('<div class="setting-card app-card" data-v-2b68226c><div class="setting-item" data-v-2b68226c><div class="item-info" data-v-2b68226c><div class="item-label" data-v-2b68226c>版本信息</div><div class="item-desc" data-v-2b68226c>2FA Authenticator v2.3</div></div></div></div>',1))])]),s(B,{visible:c.value,"onUpdate:visible":t[8]||(t[8]=o=>c.value=o),header:i.$t("auth.changeMasterPassword"),width:"500px",onConfirm:L},{default:l(()=>[s(M,{data:u.value},{default:l(()=>[s(g,{label:"旧密码"},{default:l(()=>[s(_,{modelValue:u.value.oldPassword,"onUpdate:modelValue":t[5]||(t[5]=o=>u.value.oldPassword=o),type:"password"},null,8,["modelValue"])]),_:1}),s(g,{label:"新密码"},{default:l(()=>[s(_,{modelValue:u.value.newPassword,"onUpdate:modelValue":t[6]||(t[6]=o=>u.value.newPassword=o),type:"password"},null,8,["modelValue"])]),_:1}),s(g,{label:"密码提示"},{default:l(()=>[s(_,{modelValue:u.value.hint,"onUpdate:modelValue":t[7]||(t[7]=o=>u.value.hint=o),placeholder:"可选"},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","header"])])}}},pt=q(ut,[["__scopeId","data-v-2b68226c"]]);export{pt as default};
