import{j as U,r as g,h as $,v as I,c as k,b as n,w as o,d,u as L,o as x,a as u,f as s,t as y,x as R,F as j,g as q,q as D}from"./index-DNqqV_T_.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"admin-layout"},G={class:"aside-header"},H={class:"brand-logo"},J={class:"header-content"},K={class:"header-left"},O={class:"username"},P={class:"mobile-nav mobile-only"},Q=["onClick"],W={class:"admin-content"},X={class:"drawer-header"},Y={__name:"Admin",setup(Z){const v=L(),C=I(),_=U(),i=g("dashboard"),m=g(!1),w=[{value:"dashboard",label:"仪表盘",icon:"dashboard"},{value:"users",label:"用户",icon:"usergroup"},{value:"secrets",label:"密钥",icon:"lock-on"},{value:"logs",label:"日志",icon:"chart-line"}];$(()=>{const r=C.path.split("/").pop();i.value=r||"dashboard"});const p=r=>{v.push(`/admin/${r}`)},V=r=>{p(r),m.value=!1},z=()=>{v.push("/")},A=()=>{_.logout(),v.push("/login")};return(r,e)=>{const t=d("t-icon"),l=d("t-menu-item"),f=d("t-menu"),M=d("t-aside"),c=d("t-button"),h=d("t-space"),B=d("t-header"),F=d("router-view"),N=d("t-content"),b=d("t-layout"),S=d("t-drawer");return x(),k("div",T,[n(b,null,{default:o(()=>[n(M,{width:"220px",class:"admin-aside desktop-only"},{default:o(()=>[u("div",G,[u("div",H,[n(t,{name:"secured",size:"24px"}),e[4]||(e[4]=u("span",null,"2FA Admin",-1))])]),n(f,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),theme:"dark",onChange:p},{default:o(()=>[n(l,{value:"dashboard"},{icon:o(()=>[n(t,{name:"dashboard"})]),default:o(()=>[e[5]||(e[5]=s(" 仪表盘 ",-1))]),_:1}),n(l,{value:"users"},{icon:o(()=>[n(t,{name:"usergroup"})]),default:o(()=>[e[6]||(e[6]=s(" 用户管理 ",-1))]),_:1}),n(l,{value:"secrets"},{icon:o(()=>[n(t,{name:"lock-on"})]),default:o(()=>[e[7]||(e[7]=s(" 密钥管理 ",-1))]),_:1}),n(l,{value:"registration"},{icon:o(()=>[n(t,{name:"usergroup-add"})]),default:o(()=>[e[8]||(e[8]=s(" 注册管理 ",-1))]),_:1}),n(l,{value:"system"},{icon:o(()=>[n(t,{name:"server"})]),default:o(()=>[e[9]||(e[9]=s(" 系统管理 ",-1))]),_:1}),n(l,{value:"logs"},{icon:o(()=>[n(t,{name:"chart-line"})]),default:o(()=>[e[10]||(e[10]=s(" 日志审计 ",-1))]),_:1}),n(l,{value:"settings"},{icon:o(()=>[n(t,{name:"setting"})]),default:o(()=>[e[11]||(e[11]=s(" 系统设置 ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(b,null,{default:o(()=>[n(B,{class:"admin-header"},{default:o(()=>[u("div",J,[u("div",K,[n(t,{name:"menu-fold",size:"20px",class:"mobile-menu-icon mobile-only",onClick:e[1]||(e[1]=a=>m.value=!0)}),e[12]||(e[12]=u("h2",null,"后台管理",-1))]),n(h,{class:"header-right"},{default:o(()=>{var a;return[u("span",O,y((a=R(_).user)==null?void 0:a.username),1),n(c,{size:"small",onClick:z,class:"mobile-only"},{default:o(()=>[...e[13]||(e[13]=[s("返回",-1)])]),_:1}),n(c,{size:"small",onClick:A},{default:o(()=>[...e[14]||(e[14]=[s("退出",-1)])]),_:1})]}),_:1})])]),_:1}),u("div",P,[(x(),k(j,null,q(w,a=>u("div",{key:a.value,class:D(["mobile-nav-item",{active:i.value===a.value}]),onClick:ee=>p(a.value)},[n(t,{name:a.icon,size:"20px"},null,8,["name"]),u("span",null,y(a.label),1)],10,Q)),64))]),n(N,null,{default:o(()=>[u("div",W,[n(F)])]),_:1})]),_:1})]),_:1}),n(S,{visible:m.value,"onUpdate:visible":e[3]||(e[3]=a=>m.value=a),placement:"left",size:"280px","show-overlay":!0},{header:o(()=>[u("div",X,[n(t,{name:"secured",size:"24px"}),e[15]||(e[15]=u("span",null,"2FA Admin",-1))])]),default:o(()=>[n(f,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),onChange:V},{default:o(()=>[n(l,{value:"dashboard"},{icon:o(()=>[n(t,{name:"dashboard"})]),default:o(()=>[e[16]||(e[16]=s(" 仪表盘 ",-1))]),_:1}),n(l,{value:"users"},{icon:o(()=>[n(t,{name:"usergroup"})]),default:o(()=>[e[17]||(e[17]=s(" 用户管理 ",-1))]),_:1}),n(l,{value:"secrets"},{icon:o(()=>[n(t,{name:"lock-on"})]),default:o(()=>[e[18]||(e[18]=s(" 密钥管理 ",-1))]),_:1}),n(l,{value:"registration"},{icon:o(()=>[n(t,{name:"usergroup-add"})]),default:o(()=>[e[19]||(e[19]=s(" 注册管理 ",-1))]),_:1}),n(l,{value:"system"},{icon:o(()=>[n(t,{name:"server"})]),default:o(()=>[e[20]||(e[20]=s(" 系统管理 ",-1))]),_:1}),n(l,{value:"logs"},{icon:o(()=>[n(t,{name:"chart-line"})]),default:o(()=>[e[21]||(e[21]=s(" 日志审计 ",-1))]),_:1}),n(l,{value:"settings"},{icon:o(()=>[n(t,{name:"setting"})]),default:o(()=>[e[22]||(e[22]=s(" 系统设置 ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible"])])}}},te=E(Y,[["__scopeId","data-v-fa9067c7"]]);export{te as default};
